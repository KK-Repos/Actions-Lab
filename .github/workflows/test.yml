name: test-Lab

on: workflow_dispatch

env:
  RUN_ID:  ${{ github.run_id }}
  ORG: ${{ secrets.ORG }}
  REPO: ${{ secrets.REPO }}
  GH_TOKEN: ${{ secrets.GH_TOKEN }}
jobs:
  test-job:
    runs-on: ubuntu-latest
    name: print Run ID
    steps:
      - name: Print the current run id
        run: echo "PR_NUMBER" $RUN_ID
      - name: custom actions
        id: custom-action
        uses: iamkishorekumar-git/GetWorkflowJobsStatus@v.07
        with:
          ORG: $ORG
          REPO: $ORG
          GH_TOKEN: $GH_TOKEN
          BRANCH_NAME: "master"
      - name: Use Custom Action Output
        run: |
          job_data = json.loads('${{ steps.custom-action.outputs.my_output }}')
          for job in job_data:
              echo "Job Name: ${{ job['name'] }}"
              echo "HTML URL: ${{ job['html_url'] }}"
              echo "Status: ${{ job['status'] }}

  # unit-test:
  #   runs-on: ubuntu-latest
  #   name: unit-test-job
  #   steps:
  #     - name: run unit test
  #       run: echo "Running unit test"
    
